<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>{% block title %}O.R.I.O{% endblock %}</title>

<link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- ðŸ”¥ CSS EXTRA POR PÃGINA -->
{% block extra_css %}{% endblock %}

<style>
:root{
--sapphire:#3C507D;
--royal:#112250;
--gold:#E0C58F;
--cream:#F5F0E9;
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
display:flex;
min-height:100vh;
height: auto;
font-family:'Libre Baskerville',serif;
background:linear-gradient(135deg,var(--royal),var(--sapphire));
overflow-x:hidden;
}

/* ===== SIDEBAR ===== */

.sidebar{
width:250px;
background:rgba(17,34,80,.95);
backdrop-filter:blur(12px);
color:var(--cream);
padding:30px 20px;
transition:.4s ease;
display:flex;
flex-direction:column;
align-items:center;
position:relative;
box-shadow:5px 0 25px rgba(0,0,0,.3);
}

.sidebar.collapsed{ width:85px; }

.sidebar-profile{
width:75px;
height:75px;
border-radius:50%;
background:linear-gradient(135deg,var(--sapphire),var(--royal));
display:flex;
align-items:center;
justify-content:center;
color:white;
font-size:24px;
border:2px solid var(--gold);
margin-bottom:40px;
cursor:pointer;
transition:.35s;
}

.sidebar-profile:hover{
transform:scale(1.08);
box-shadow:0 0 18px rgba(224,197,143,.6);
}

.menu{ width:100%; }

.menu a{
display:flex;
align-items:center;
gap:14px;
padding:14px;
border-radius:14px;
text-decoration:none;
color:var(--cream);
margin-bottom:12px;
transition:.25s ease;
opacity:.9;
}

.menu a:hover{
background:rgba(224,197,143,.15);
transform:translateX(4px);
opacity:1;
}

/* ðŸ”¥ ESTADO ACTIVO PREMIUM */

.menu a.active{
background:linear-gradient(135deg,var(--gold),#f2d9a6);
color:var(--royal);
font-weight:600;
box-shadow:0 10px 25px rgba(0,0,0,.2);
opacity:1;
}

.sidebar.collapsed .menu span{ display:none; }

/* ===== TOGGLE ===== */

.toggle{
position:absolute;
top:20px;
right:-15px;
background:var(--gold);
width:32px;
height:32px;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
color:var(--royal);
box-shadow:0 5px 15px rgba(0,0,0,.25);
transition:.25s;
}

.toggle:hover{
transform:scale(1.1);
}

/* ===== MAIN ===== */

.main{
flex:1;
background:var(--cream);
border-top-left-radius:35px;
border-bottom-left-radius:35px;
padding:40px;
overflow:auto;
transition:.35s;
}

/* ===== FAB ===== */

.fab{
position:fixed;
bottom:30px;
right:40px;
width:70px;
height:70px;
border-radius:50%;
background:linear-gradient(135deg,var(--gold),#f2d9a6);
color:var(--royal);
display:flex;
align-items:center;
justify-content:center;
font-size:24px;
cursor:pointer;
box-shadow:0 15px 30px rgba(0,0,0,.25);
transition:.35s ease;
z-index:20;
}

.fab.active{
transform:rotate(45deg) scale(1.05);
}

.fab-menu{
position:fixed;
bottom:30px;
right:40px;
width:70px;
height:70px;
pointer-events:none;
}

.fab-menu.active{
pointer-events:auto;
}

.fab-btn{
position:absolute;
width:60px;
height:60px;
border-radius:50%;
background:white;
display:flex;
align-items:center;
justify-content:center;
opacity:0;
transform:scale(.3);
transition:.35s ease;
box-shadow:0 10px 25px rgba(0,0,0,.18);
text-decoration:none;
color:var(--royal);
}

.fab-menu.active .fab-btn{
opacity:1;
transform:scale(1);
}

.fab-btn:hover{
transform:scale(1.08);
box-shadow:0 18px 35px rgba(0,0,0,.25);
}

.fab-btn:nth-child(1){ bottom:90px; right:0; }
.fab-btn:nth-child(2){ bottom:65px; right:85px; }

/* ===== MOBILE PRO NAVBAR ===== */

@media (max-width:900px){

body{
flex-direction:column;
}

/* ðŸ”¥ BOTTOM NAV PROFESIONAL */

.sidebar{
position:fixed;
bottom:15px;
left:50%;
transform:translateX(-50%);
width:95%;
height:70px;

border-radius:22px;

flex-direction:row;
justify-content:space-around;
align-items:center;

padding:0 10px;

background:rgba(17,34,80,.75);
backdrop-filter:blur(18px);

z-index:9999;
box-shadow:0 10px 30px rgba(0,0,0,.25);
}

/* Ocultar cosas de PC */
.sidebar-profile{ display:none; }
.toggle{ display:none; }

/* MenÃº horizontal */
.menu{
display:flex;
width:100%;
justify-content:space-around;
}

/* Botones */
.menu a{
flex-direction:column;
gap:3px;
margin:0;
border-radius:14px;
font-size:10px;
padding:6px 12px;

color:rgba(245,240,233,.65);
transition:.3s ease;
position:relative;
}

/* Hover suave */
.menu a:hover{
background:rgba(224,197,143,.12);
color:var(--cream);
transform:translateY(-2px);
}

/* ðŸ”¥ ACTIVO NIVEL APP */

.menu a.active{
color:var(--gold);
}

/* Indicador elegante */
.menu a.active::before{
content:"";
position:absolute;
top:-6px;
width:6px;
height:6px;
border-radius:50%;
background:var(--gold);
box-shadow:0 0 12px rgba(224,197,143,.9);
}

/* AnimaciÃ³n icono */
.menu a i{
font-size:18px;
transition:.3s ease;
}

.menu a.active i{
transform:scale(1.15);
}

/* ðŸ”¥ MAIN */
.main{
border-radius:0;
padding:25px 15px 120px 15px;
}

/* ðŸ”¥ FAB */
.fab{
bottom:100px;
right:20px;
}

.fab-menu{
bottom:100px;
right:20px;
}
}


</style>
</head>

<body>

<div class="sidebar" id="sidebar">

<div class="sidebar-profile">
<i class="fas fa-user"></i>
</div>

<div class="menu">

<a href="/menu" class="{{ 'active' if active=='panel' else '' }}">
    <i class="fas fa-chart-line"></i><span>Panel</span>
</a>

<a href="/reportes" class="{{ 'active' if active=='reportes' else '' }}">
    <i class="fas fa-box-open"></i><span>Mis Reportes</span>
</a>

<a href="/perfil" class="{{ 'active' if active=='perfil' else '' }}">
    <i class="fas fa-user"></i><span>Perfil</span>
</a>

<a href="/configuracion" class="{{ 'active' if active=='configuracion' else '' }}">
    <i class="fas fa-cog"></i><span>ConfiguraciÃ³n</span>
</a>

<a href="/logout">
    <i class="fas fa-right-from-bracket"></i><span>Cerrar sesiÃ³n</span>
</a>

</div>

<div class="toggle" onclick="toggleSidebar()">
<i class="fas fa-angle-left" id="toggleIcon"></i>
</div>

</div>

<div class="main">
{% block content %}{% endblock %}
</div>

{% if active != 'perfil' %}

<div class="fab" id="fab" onclick="toggleFabMenu()">
    <i class="fas fa-plus"></i>
</div>

<div class="fab-menu" id="fabMenu">
    <a href="/formulario_perdido" class="fab-btn">
        <i class="fas fa-search"></i>
    </a>

    <a href="/formulario_encontrado" class="fab-btn">
        <i class="fas fa-box"></i>
    </a>
</div>

{% endif %}


<script>
function toggleSidebar(){
const sidebar = document.getElementById("sidebar");
const icon = document.getElementById("toggleIcon");

sidebar.classList.toggle("collapsed");

if(sidebar.classList.contains("collapsed")){
icon.classList.replace("fa-angle-left","fa-angle-right");
}else{
icon.classList.replace("fa-angle-right","fa-angle-left");
}
}

function toggleFabMenu(){
document.getElementById("fab").classList.toggle("active");
document.getElementById("fabMenu").classList.toggle("active");
}
</script>

</body>
</html>
